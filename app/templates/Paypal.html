{% extends "base.html" %}

{% block title %}Order{% endblock %}

{% block link %}rel="shortcut icon" href="{{ url_for('static', filename='images/icon/document.png') }}"
type="image/x-icon"{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/course.css') }}">
{% endblock %}

{% block body %}
<main>
    <div class="container">
        <div class="row">
          <div class="col-6 col-md-2"></div>
          <div class="col-6 col-md-8" style="margin-top: 4%;">
            <div class="row g-10">
                <div class="col-md-6 col-lg-4 order-md-last">
                  <div class="bg-body-tertiary rounded-4">
                    <div style="padding-top: 4%; padding-left: 10%; padding-right: 8%;">
                      <h4 class="d-flex justify-content-between align-items-center mb-3">
                        <span class="text-primary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shopping Cart</font></font></span>
                        <span class="badge bg-primary rounded-pill"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span>
                      </h4>
                    </div>
                    <div style="margin-left: 4%; margin-right: 4%; padding-bottom: 4%;">
                      <ul class="list-group mb-3">
                        <li class="list-group-item d-flex justify-content-between lh-sm">
                          <div>
                            <h6 class="my-0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ course_data.course_title}}</font></font></h6>
                            <small class="text-body-secondary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ course_data.course_description[:18] }}...</font></font></small>
                          </div>
                          <span class="text-body-secondary"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ course_data.course_price }} $</font></font></span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between">
                          <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total (USD)</font></font></span>
                          <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{ course_data.course_price }} $</font></font></strong>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div class="col-md-7 col-lg-8">
                  <h4 class="mb-3">Billing address</h4>
                  <form class="needs-validation was-validated" action="{{ url_for('order.Place_an_order') }}" method="post">
                    <div class="row g-3">
                      <div class="col-12">
                        <label for="username" class="form-label">username</label>
                        <input type="text" class="form-control" id="username" value="{{ order_user.user_name }}" required="" name="username">
                        <div class="invalid-feedback">
                          A valid username is required.
                        </div>
                      </div>

                      <div class="col-12">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" value="{{ order_user.user_mail }}" required="" name="email">
                        <div class="invalid-feedback">
                          Please enter a valid email address.
                        </div>
                      </div>
          
                      <div class="col-12">
                        <label for="Phone" class="form-label">Phone</label>
                        <input type="text" class="form-control" id="Phone" value="{{ order_user.user_number }}" required="" name="phone">
                        <div class="invalid-feedback">
                          Please enter a valid phone number.
                        </div>
                      </div>
                    </div>

                    <input type="text" style="visibility: hidden;" name="course_id" value="{{ course_data.course_id }}">

                    <h4 class="mb-3" style="margin-top: 2%;">Payment</h4>
          
                    <div class="my-3">
                      <div class="form-check">
                        <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required="" checked="">
                        <label class="form-check-label" for="paypal">PayPal</label>
                      </div>
                    </div>
          
                    <div class="row gy-3">
                      <div class="col-md-6">
                        <label for="cc-name" class="form-label">Name on card</label>
                        <input type="text" class="form-control" id="cc-name" placeholder="" required="" name="cc_name">
                        <small class="text-body-secondary">Full name as displayed on card</small>
                        <div class="invalid-feedback">
                          Name on card is required
                        </div>
                      </div>
          
                      <div class="col-md-6">
                        <label for="cc-number" class="form-label">Credit card number</label>
                        <input type="text" class="form-control" id="cc-number" placeholder="" required="" name="cc_number">
                        <div class="invalid-feedback">
                          Credit card number is required
                        </div>
                      </div>

                      <div class="col-md-3">
                        <label for="cc-cvv" class="form-label">CVV</label>
                        <input type="text" class="form-control" id="cc-cvv" placeholder="" required="" name="cc_cvv">
                        <div class="invalid-feedback">
                          Security code required
                        </div>
                      </div>
                    </div>
          
                    <hr class="my-4">
          
                    <button class="w-100 btn btn-primary btn-lg" type="submit">Continue to checkout</button>
                    <div style="margin-top: 2%;">
                      <a href="course_detailed?course_id={{ course_data.course_id }}" class="w-100 btn btn-outline-success">Back</a>
                    </div>
                  </form>
                </div>
              </div>
          </div>
          <div class="col-6 col-md-2"></div>
        </div>
    </div>
</main>
{% endblock %}